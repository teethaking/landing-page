# PR: Create useActiveSection hook for scroll-aware navigation (#24)

## Overview

This PR implements the `useActiveSection` custom hook to provide scroll-aware navigation for the landing page, as described in Issue #24. The navbar links now accurately reflect the most prominently visible section in the center of the screen as the user scrolls through the page.

## Related Issue

Fixes #24

## Changes

### ğŸ”§ Hooks

- **[NEW]** `hooks/use-active-section.ts`:
  - Implements the generic `useActiveSection` hook using `IntersectionObserver`.
  - Uses a `rootMargin` of `-50% 0px -50% 0px` to accurately track the section crossing the center of the viewport.
  - Calculates which section is closest to the center when multiple sections are visible.
  - Incorporates specific handlers for strict edge cases (returns `null` at the absolute top, and the last section ID at the absolute bottom).
  - Cleans up observers appropriately on component unmount to prevent memory leaks.

### ğŸ¨ UI Components

- **[MODIFY]** `components/navbar.tsx`:
  - Integrated the `useActiveSection` hook to complement the pure hover-state-based active styling.
  - Dynamically updates active link highlighting (`text-foreground` and visual indicators) based on scroll position, while gracefully maintaining existing hover effects.

## Verification Results

| Scenario                                         | Status      |
| ------------------------------------------------ | ----------- |
| Clean production build (`pnpm build`)            | âœ… Passed   |
| Linting (`pnpm lint`)                            | âœ… Passed   |
| Tests (`pnpm test`)                              | âœ… Passed   |
| Scroll down sequentially highlights links        | âœ… Verified |
| At absolute top, no link is highlighted (`null`) | âœ… Verified |
| At absolute bottom, last section is highlighted  | âœ… Verified |

## How to Test

1. Start the development server: `pnpm dev`
2. Open your browser and navigate to `http://localhost:3000`.
3. Scroll down slowly and observe the navbar highlighting "Features", "How it Works", and then "Ecosystem" sequentially.
4. Scroll to the absolute top and verify no link is active.
5. Scroll to the absolute bottom and verify "Ecosystem" remains active.

## Screen Recording

> **Note to Submitter**: Please attach the video recording generated by the browser subagent (`use_active_section_demo_1771662645803.webp`) directly to the GitHub Pull Request description to satisfy the Contribution Guidelines. Wait, GitHub accepts `.mp4`, `.mov`, `.gif`. You can attach the `.webp` or convert it to `.gif`/`.mp4` before uploading.

_(Attach recording here)_

## Test Execution Logs

> Output demonstrating that all UI and unit tests pass successfully, particularly those targeting `navbar.tsx`.

```text
> vitest run

 âœ“ __tests__/hero-demo.test.tsx (6 tests) 224ms
 âœ“ __tests__/navbar.test.tsx (4 tests) 475ms
 âœ“ __tests__/page.test.tsx (9 tests) 595ms

 Test Files  3 passed (3)
      Tests  19 passed (19)
```
